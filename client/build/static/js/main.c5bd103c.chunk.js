(this["webpackJsonpgoogle-books-search"]=this["webpackJsonpgoogle-books-search"]||[]).push([[0],{60:function(e,a,n){e.exports=n(90)},65:function(e,a,n){},90:function(e,a,n){"use strict";n.r(a);var t=n(0),o=n.n(t),r=n(8),i=n.n(r),l=(n(65),n(14)),c=(n(66),n(25)),s=n(10),u=n(122),m=n(127),d=Object(m.a)((function(){return{root:{flexGrow:1},title:{flexGrow:1},navBrand:{marginRight:"1rem",textDecoration:"none",color:"inherit"},link:{marginLeft:".75rem",textDecoration:"none",color:"inherit"},headerContainer:{padding:"4rem 0",width:"100%",textAlign:"center",background:"lightgrey"},h6:{fontSize:"1.75rem"},body1:{fontSize:"1rem",marginTop:"1rem"},searchContainer:{padding:"2rem",color:"black",display:"flex",flexWrap:"wrap",margin:"1rem 0"},searchInput:{margin:"1.5rem 0"},searchButton:{marginLeft:"auto"},resultsContainer:{padding:"2rem",color:"black",display:"flex",margin:"1rem 0",flexDirection:"column"},resultButton:{margin:".25rem"},bookContainer:{border:"1px solid black",padding:"1rem",margin:"1rem"},bookHeader:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},bookDetails:{display:"flex",alignItems:"center"},bookSummary:{padding:"1rem"}}}));function v(){var e=d();return o.a.createElement("div",{id:"searchHeaderContainer",className:e.headerContainer},o.a.createElement(u.a,{id:"searchHeader",variant:"h4",component:"div",className:e.h6},"(REACT) GOOGLE BOOKS SEARCH",o.a.createElement(u.a,{id:"searchHeaderBody",variant:"body1",className:e.body1},"Search for and Save Books of Interest")))}var f=n(124),h=n(125);function g(){var e=d();return o.a.createElement("div",{id:"nav",className:e.root},o.a.createElement(f.a,{position:"static",color:"secondary"},o.a.createElement(h.a,null,o.a.createElement(u.a,{variant:"h6",className:e.title},o.a.createElement(c.b,{to:"/",className:e.navBrand},"Google Books Search"),o.a.createElement(u.a,{variant:"subtitle1",component:"span"},o.a.createElement(c.b,{to:"/",className:e.link},"Search"),o.a.createElement(c.b,{to:"/saved",className:e.link},"Saved"))))))}var p=n(128);function b(e){var a=e.id,n=e.title,t=e.publishedDate,r=e.description,i=e.authors,l=e.imageLinks,c=e.previewLink,s=e.classes,m=e.handleSave,d=e.handleDelete,v=e.currentPage;return o.a.createElement("div",{className:s.bookContainer},o.a.createElement("div",{className:s.bookHeader},o.a.createElement("div",null,o.a.createElement(u.a,{variant:"h6"},n),o.a.createElement(u.a,{variant:"caption"},"Published Date: ",t),o.a.createElement(u.a,{variant:"body1"},"Authors: ",i)),o.a.createElement("div",null,o.a.createElement(p.a,{variant:"outlined",color:"secondary",className:s.resultButton,href:c,target:"_blank","data-id":a},"View"),o.a.createElement(p.a,{variant:"outlined",color:"secondary",className:s.resultButton,id:a,onClick:function(){return"search"===v?m(a):d(a)}},"search"===v?"Save":"Delete"))),o.a.createElement("div",{className:s.bookDetails},o.a.createElement("div",null,o.a.createElement("img",{src:l.thumbnail,alt:""})),o.a.createElement("div",null,o.a.createElement(u.a,{variant:"body2",className:s.bookSummary},r))))}function E(e){var a=e.classes,n=e.results,t=e.handleSave,r=e.currentPage,i=e.handleDelete;return o.a.createElement("div",{className:a.resultsContainer},o.a.createElement(u.a,{variant:"h5"},"/saved"===window.location.pathname?"Saved Books":"Results"),n.map((function(e){var n=e._id,l=e.volumeInfo,c=l.title,s=l.publishedDate,u=l.description,m=l.authors,d=l.imageLinks,v=l.previewLink;return o.a.createElement(b,{id:n,key:n,title:c,publishedDate:s,description:u,authors:m,imageLinks:d,previewLink:v,classes:a,handleSave:t,handleDelete:i,currentPage:r})})))}var k=n(27),w=n.n(k),y=function(e){return w.a.get("https://www.googleapis.com/books/v1/volumes?q="+e+"&langRestrict=en&orderBy=relevance&printType=BOOKS&key=AIzaSyC89aAhPWHbfl6UDBgwwOzd5vpKWE-ySyE")},S=function(){return w.a.get("/api/books")},B=function(e){return w.a.delete("/api/books/"+e)},N=function(e){return w.a.post("/api/books",e)};function C(e){var a=e.currentPage,n=Object(t.useState)([]),r=Object(l.a)(n,2),i=r[0],c=r[1];Object(t.useEffect)((function(){s()}),[]);var s=function(){S().then((function(e){return c(e.data)})).catch((function(e){return console.log(e.message)}))},u=d();return o.a.createElement(o.a.Fragment,null,o.a.createElement(E,{classes:u,results:i,currentPage:a,handleDelete:function(e){console.log("bookId:",e),B(e).then((function(){return console.log("deleted")}))}}))}var O=n(126);function D(e){var a=e.classes,n=e.onChange,t=e.onSubmit,r=e.onKeyUp,i=e.value;return o.a.createElement("div",{className:a.searchContainer},o.a.createElement(u.a,{variant:"subtitle1"},"Book Search"),o.a.createElement(O.a,{id:"outlined-full-width",className:a.searchInput,label:"Book",placeholder:"Harry Potter",color:"secondary",fullWidth:!0,type:"search",margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",onChange:n,onKeyUp:r,value:i}),o.a.createElement(p.a,{type:"submit",color:"secondary",variant:"outlined",className:a.searchButton,onClick:t},"Search"))}function x(e){var a=e.currentPage,n=Object(t.useState)([]),r=Object(l.a)(n,2),i=r[0],c=r[1],s=Object(t.useState)(""),u=Object(l.a)(s,2),m=u[0],v=u[1],f=function(e){y(e).then((function(e){c(e.data.items.map((function(e){return e})))})).catch((function(e){return console.log(e.message)}))},h=d();return console.log(i),o.a.createElement(o.a.Fragment,null,o.a.createElement(D,{classes:h,onChange:function(e){var a=e.target.value;v(a)},onSubmit:function(e){e.preventDefault(),f(m)},onKeyUp:function(e){console.log(m),"Enter"===e.key&&void 0!==m&&f(m)},value:m}),0!==i.length&&o.a.createElement(E,{classes:h,results:i,handleSave:function(e){console.log(e),i.map((function(a){if(a.id===e){var n={_id:a.id,volumeInfo:{title:a.volumeInfo.title,authors:a.volumeInfo.authors,description:a.volumeInfo.description,imageLinks:{thumbnail:a.volumeInfo.imageLinks.thumbnail},previewLink:a.volumeInfo.infoLink}};console.log("bookData:",n),N(n).then((function(a){console.log(a.data),c(i.filter((function(a){return a.id!==e})))}))}}))},currentPage:a}))}var L=function(){var e=Object(t.useState)(""),a=Object(l.a)(e,2),n=a[0],r=a[1];return Object(t.useEffect)((function(){"/"===window.location.pathname?r("search"):r("saved"),console.log(n)}),[n]),o.a.createElement(c.a,null,o.a.createElement("div",null,o.a.createElement(g,null),o.a.createElement(v,null),o.a.createElement("div",null,o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:"/",component:x,currentPage:n}),o.a.createElement(s.a,{exact:!0,path:"/saved",component:C,currentPage:n})))))},I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(L,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");I?function(e){fetch(e).then((function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):j(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):j(e)}))}}()}},[[60,1,2]]]);
//# sourceMappingURL=main.c5bd103c.chunk.js.map